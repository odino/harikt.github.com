<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<title>Class Aura\Marshal\Type\GenericType</title>

	<script type="text/javascript" src="resources/combined.js?1007750752"></script>
	<script type="text/javascript" src="elementlist.js?3985229954"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?3505392360" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li class="active"><a href="namespace-Aura.html">Aura<span></span></a>
						<ul>
				<li class="active"><a href="namespace-Aura.Marshal.html">Marshal<span></span></a>
						<ul>
				<li><a href="namespace-Aura.Marshal.Collection.html">Collection</a>
						</li>
				<li><a href="namespace-Aura.Marshal.Entity.html">Entity</a>
						</li>
				<li><a href="namespace-Aura.Marshal.Lazy.html">Lazy</a>
						</li>
				<li><a href="namespace-Aura.Marshal.Relation.html">Relation</a>
						</li>
				<li class="active"><a href="namespace-Aura.Marshal.Type.html">Type</a>
						</li>
							</ul></li></ul></li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Aura.Marshal.Type.Builder.html">Builder</a></li>
				<li class="active"><a href="class-Aura.Marshal.Type.GenericType.html">GenericType</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-Aura.Marshal.Type.html" title="Summary of Aura\Marshal\Type"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class GenericType</h1>


	<div class="description">
	
<p>Describes a particular type within the domain, and retains an IdentityMap of
entities for the type. Converts loaded data to entity objects lazily.</p>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-Aura.Marshal.Data.html"><span>Aura\Marshal\Data</span></a>
			
			 implements 
				<a href="class-ArrayAccess.html"><span>ArrayAccess</span></a>, 
			
				<a href="class-Countable.html"><span>Countable</span></a>, 
			
				<a href="class-IteratorAggregate.html"><span>IteratorAggregate</span></a>
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>Aura\Marshal\Type\GenericType</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-Aura.html">Aura</a>\<a href="namespace-Aura.Marshal.html">Marshal</a>\<a href="namespace-Aura.Marshal.Type.html">Type</a><br />
		<b>Package:</b> Aura\Marshal<br />

		<b>Located at</b> <a href="source-class-Aura.Marshal.Type.GenericType.html#21-926" title="Go to source code">Aura/Marshal/Type/GenericType.php</a><br />
	</div>



	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#137-148" title="Go to source code">__construct</a>( <span>array <var>$data</var> = []</span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Constructor; overrides the parent entirely.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd><code>array</code><br>$data The initial data for all entities in the type.</dd>
				</dl></div>




				<h4>Overrides</h4>
				<div class="list"><code><a href="class-Aura.Marshal.Data.html#___construct">Aura\Marshal\Data::__construct()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="setIdentityField" id="_setIdentityField">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setIdentityField">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#150-163" title="Go to source code">setIdentityField</a>( <span>string <var>$identity_field</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Sets the name of the field that uniquely identifies each entity for this
type.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$identity_field</var></dt>
					<dd><code>string</code><br>$identity_field The identity field name.</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getIdentityField" id="_getIdentityField">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getIdentityField">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#165-176" title="Go to source code">getIdentityField</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the name of the field that uniquely identifies each entity of this
type.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setIndexFields" id="_setIndexFields">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setIndexFields">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#178-194" title="Go to source code">setIndexFields</a>( <span>array <var>$fields</var> = []</span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Sets the fields that should be indexed at load() time; removes all previous
field indexes.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$fields</var></dt>
					<dd><code>array</code><br>$fields The fields to be indexed.</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getIndexFields" id="_getIndexFields">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getIndexFields">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#196-206" title="Go to source code">getIndexFields</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the list of indexed field names.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setEntityBuilder" id="_setEntityBuilder">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setEntityBuilder">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#208-220" title="Go to source code">setEntityBuilder</a>( <span><code><a href="class-Aura.Marshal.Entity.BuilderInterface.html">Aura\Marshal\Entity\BuilderInterface</a></code> <var>$entity_builder</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Sets the builder object to create entity objects.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$entity_builder</var></dt>
					<dd><code><code><a href="class-Aura.Marshal.Entity.BuilderInterface.html">Aura\Marshal\Entity\BuilderInterface</a></code></code><br>$entity_builder The builder object.</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getEntityBuilder" id="_getEntityBuilder">

		<td class="attributes"><code>
			 public 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getEntityBuilder">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#222-232" title="Go to source code">getEntityBuilder</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the builder that creates entity objects.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setCollectionBuilder" id="_setCollectionBuilder">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setCollectionBuilder">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#234-246" title="Go to source code">setCollectionBuilder</a>( <span><code><a href="class-Aura.Marshal.Collection.BuilderInterface.html">Aura\Marshal\Collection\BuilderInterface</a></code> <var>$collection_builder</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Sets the builder object to create collection objects.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$collection_builder</var></dt>
					<dd><code><code><a href="class-Aura.Marshal.Collection.BuilderInterface.html">Aura\Marshal\Collection\BuilderInterface</a></code></code><br>$collection_builder The builder object.</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getCollectionBuilder" id="_getCollectionBuilder">

		<td class="attributes"><code>
			 public 
			<code><a href="class-Aura.Marshal.Collection.BuilderInterface.html">Aura\Marshal\Collection\BuilderInterface</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getCollectionBuilder">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#248-258" title="Go to source code">getCollectionBuilder</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the builder that creates collection objects.</p>




				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-Aura.Marshal.Collection.BuilderInterface.html">Aura\Marshal\Collection\BuilderInterface</a></code></code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setLazyBuilder" id="_setLazyBuilder">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setLazyBuilder">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#260-272" title="Go to source code">setLazyBuilder</a>( <span><code><a href="class-Aura.Marshal.Lazy.BuilderInterface.html">Aura\Marshal\Lazy\BuilderInterface</a></code> <var>$lazy_builder</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Sets the lazy builder to create lazy objects.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$lazy_builder</var></dt>
					<dd><code><code><a href="class-Aura.Marshal.Lazy.BuilderInterface.html">Aura\Marshal\Lazy\BuilderInterface</a></code></code><br>$lazy_builder The lazy builder.</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getLazyBuilder" id="_getLazyBuilder">

		<td class="attributes"><code>
			 public 
			<code><a href="class-Aura.Marshal.Lazy.BuilderInterface.html">Aura\Marshal\Lazy\BuilderInterface</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getLazyBuilder">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#274-284" title="Go to source code">getLazyBuilder</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the lazy builder that creates lazy objects.</p>




				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-Aura.Marshal.Lazy.BuilderInterface.html">Aura\Marshal\Lazy\BuilderInterface</a></code></code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="load" id="_load">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_load">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#286-343" title="Go to source code">load</a>( <span>array <var>$data</var></span>, <span>string <var>$return_field</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Loads the IdentityMap for this type with data for entity objects.</p>

<p>Typically, the $data value is a sequential array of associative arrays. As
long as the $data value can be iterated over and accessed as an array, you can
pass in any kind of $data.</p>

<p>The elements from $data will be placed into the IdentityMap and indexed
according to the value of their identity field.</p>

<p>You can call load() multiple times, but entities already in the IdentityMap
will not be overwritten.</p>

<p>The loaded elements are cast to objects; this allows consistent addressing of
elements before and after conversion to entity objects.</p>

<p>The loaded elements will be converted to entity objects by the entity builder
only as you request them from the IdentityMap.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd><code>array</code><br>$data Entity data to load into the IdentityMap.</dd>
					<dt><var>$return_field</var></dt>
					<dd><code>string</code><br>$return_field Return values from this field; if empty, return values from the
identity field (the default).</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>The return values from the data elements, regardless of whether they were loaded
or not.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="loadEntity" id="_loadEntity">

		<td class="attributes"><code>
			 public 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_loadEntity">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#345-371" title="Go to source code">loadEntity</a>( <span>array <var>$initial_data</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Loads a single entity into the identity map.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$initial_data</var></dt>
					<dd><code>array</code><br>$initial_data The initial data for the entity.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br>The newly-loaded entity.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="loadCollection" id="_loadCollection">

		<td class="attributes"><code>
			 public 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_loadCollection">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#373-406" title="Go to source code">loadCollection</a>( <span>array <var>$data</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Loads an entity collection into the identity map.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd><code>array</code><br>$data The initial data for the entities.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br>The newly-loaded collection.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="loadData" id="_loadData">

		<td class="attributes"><code>
			 protected 
			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_loadData">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#408-455" title="Go to source code">loadData</a>( <span>array <var>$initial_data</var></span>, <span>string <var>$identity_field</var></span>, <span>array <var>$index_fields</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Loads an entity into the identity map.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$initial_data</var></dt>
					<dd><code>array</code><br>$initial_data The initial data for the entity.</dd>
					<dt><var>$identity_field</var></dt>
					<dd><code>string</code><br>$identity_field The identity field for the entity.</dd>
					<dt><var>$index_fields</var></dt>
					<dd><code>array</code><br>$index_fields The fields to index on.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>integer</code><br>The identity map offset of the new entity.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getIdentityValues" id="_getIdentityValues">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getIdentityValues">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#457-468" title="Go to source code">getIdentityValues</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the array keys for the for the entities in the IdentityMap; the keys
were generated at load() time from the identity field values.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getFieldValues" id="_getFieldValues">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getFieldValues">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#470-490" title="Go to source code">getFieldValues</a>( <span>string <var>$field</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the values for a particular field for all the entities in the
IdentityMap.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$field</var></dt>
					<dd><code>string</code><br>$field The field name to get values for.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>An array of key-value pairs where the key is the identity value and the value is
the requested field value.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getEntity" id="_getEntity">

		<td class="attributes"><code>
			 public 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getEntity">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#492-513" title="Go to source code">getEntity</a>( <span>integer <var>$identity_value</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Retrieves a single entity from the IdentityMap by the value of its identity
field.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$identity_value</var></dt>
					<dd><code>integer</code><br>$identity_value The identity value of the entity to be retrieved.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br>A entity object via the entity builder.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getEntityByField" id="_getEntityByField">

		<td class="attributes"><code>
			 public 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getEntityByField">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#515-552" title="Go to source code">getEntityByField</a>( <span>string <var>$field</var></span>, <span>mixed <var>$value</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Retrieves the first entity from the IdentityMap that matches the value of an
arbitrary field; it will be converted to a entity object if it is not already an
object of the proper class.</p>

<p>N.b.: This will not be performant for large sets where the field is not an
identity field and is not indexed.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$field</var></dt>
					<dd><code>string</code><br>$field The field to match on.</dd>
					<dt><var>$value</var></dt>
					<dd><code>mixed</code><br>$value The value of the field to match on.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br>A entity object via the entity builder.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getEntityByIndex" id="_getEntityByIndex">

		<td class="attributes"><code>
			 protected 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getEntityByIndex">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#554-573" title="Go to source code">getEntityByIndex</a>( <span>string <var>$field</var></span>, <span>string <var>$value</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Retrieves the first entity from the IdentityMap matching an index lookup.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$field</var></dt>
					<dd><code>string</code><br>$field The indexed field name.</dd>
					<dt><var>$value</var></dt>
					<dd><code>string</code><br>$value The field value to match on.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br>A entity object via the entity builder.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getCollection" id="_getCollection">

		<td class="attributes"><code>
			 public 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getCollection">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#575-597" title="Go to source code">getCollection</a>( <span>array <var>$identity_values</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Retrieves a collection of elements from the IdentityMap by the values of
their identity fields; each element will be converted to a entity object if it
is not already an object of the proper class.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$identity_values</var></dt>
					<dd><code>array</code><br>$identity_values An array of identity values to retrieve.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br>A collection object via the collection builder.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getCollectionByField" id="_getCollectionByField">

		<td class="attributes"><code>
			 public 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getCollectionByField">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#599-649" title="Go to source code">getCollectionByField</a>( <span>string <var>$field</var></span>, <span>mixed <var>$values</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Retrieves a collection of objects from the IdentityMap matching the value of
an arbitrary field; these will be converted to entities if they are not already
objects of the proper class.</p>

<p>The value to be matched can be an array of values, so that you can get many
values of the field being matched.</p>

<p>If the field is indexed, the order of the returned collection will match the
order of the values being searched. If the field is not indexed, the order of
the returned collection will be the same as the IdentityMap.</p>

<p>The fastest results are from the identity field; second fastest, from an
indexed field; slowest are from non-indexed fields, because it has to look
through the entire IdentityMap to find matches.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$field</var></dt>
					<dd><code>string</code><br>$field The field to match on.</dd>
					<dt><var>$values</var></dt>
					<dd><code>mixed</code><br>$values The value of the field to match on; if an array, any value in the array
will be counted as a match.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br>A collection object via the collection builder.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getCollectionByIndex" id="_getCollectionByIndex">

		<td class="attributes"><code>
			 protected 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getCollectionByIndex">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#651-686" title="Go to source code">getCollectionByIndex</a>( <span>string <var>$field</var></span>, <span>mixed <var>$values</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Looks through the index for a field to retrieve a collection of objects from
the IdentityMap; these will be converted to entities if they are not already
objects of the proper class.</p>

<p>N.b.: The value to be matched can be an array of values, so that you can get
many values of the field being matched.</p>

<p>N.b.: The order of the returned collection will match the order of the values
being searched, not the order of the entities in the IdentityMap.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$field</var></dt>
					<dd><code>string</code><br>$field The field to match on.</dd>
					<dt><var>$values</var></dt>
					<dd><code>mixed</code><br>$values The value of the field to match on; if an array, any value in the array
will be counted as a match.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br>A collection object via the collection builder.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setRelation" id="_setRelation">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setRelation">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#688-707" title="Go to source code">setRelation</a>( <span>string <var>$name</var></span>, <span><code><a href="class-Aura.Marshal.Relation.RelationInterface.html">Aura\Marshal\Relation\RelationInterface</a></code> <var>$relation</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Sets a relationship to another type, assigning it to a field name to be used
in entity objects.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$name</var></dt>
					<dd><code>string</code><br>$name The field name to use for the related entity or collection.</dd>
					<dt><var>$relation</var></dt>
					<dd><code><code><a href="class-Aura.Marshal.Relation.RelationInterface.html">Aura\Marshal\Relation\RelationInterface</a></code></code><br>$relation The relationship definition object.</dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="getRelation" id="_getRelation">

		<td class="attributes"><code>
			 public 
			<code><a href="class-Aura.Marshal.Relation.RelationInterface.html">Aura\Marshal\Relation\RelationInterface</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getRelation">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#709-722" title="Go to source code">getRelation</a>( <span>string <var>$name</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns a relationship definition object by name.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$name</var></dt>
					<dd><code>string</code><br>$name The field name to use for the related entity or collection.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-Aura.Marshal.Relation.RelationInterface.html">Aura\Marshal\Relation\RelationInterface</a></code></code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getRelations" id="_getRelations">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getRelations">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#724-734" title="Go to source code">getRelations</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the array of all relationship definition objects.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="newEntity" id="_newEntity">

		<td class="attributes"><code>
			 public 
			object
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_newEntity">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#736-756" title="Go to source code">newEntity</a>( <span>array <var>$data</var> = []</span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Adds a new entity to the IdentityMap.</p>

<p>This entity will not show up in any indexes, whether by field or by primary
key. You will see it only by iterating through the IdentityMap. Typically this
is used to add to a collection, or to create a new entity from user input.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$data</var></dt>
					<dd><code>array</code><br>$data Data for the new entity.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>object</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="removeEntity" id="_removeEntity">

		<td class="attributes"><code>
			 public 
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_removeEntity">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#758-815" title="Go to source code">removeEntity</a>( <span>mixed <var>$identity_value</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Removes an entity from the collection.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$identity_value</var></dt>
					<dd><code>mixed</code><br>$identity_value int The identity value of the entity to be removed.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br>True on success, false on failure.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getChangedEntities" id="_getChangedEntities">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getChangedEntities">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#817-835" title="Go to source code">getChangedEntities</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns an array of all entities in the IdentityMap that have been
modified.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getNewEntities" id="_getNewEntities">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getNewEntities">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#837-852" title="Go to source code">getNewEntities</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns an array of all entities in the IdentityMap that were created using
<code>newEntity()</code>.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getRemovedEntities" id="_getRemovedEntities">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getRemovedEntities">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#854-865" title="Go to source code">getRemovedEntities</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns an array of all entities that were removed using
<code>removeEntity()</code>.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getInitialData" id="_getInitialData">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getInitialData">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#867-881" title="Go to source code">getInitialData</a>( <span>object <var>$entity</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the initial data for a given entity.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$entity</var></dt>
					<dd><code>object</code><br>$entity The entity to find initial data for.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>The initial data for the entity.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getChangedFields" id="_getChangedFields">

		<td class="attributes"><code>
			 public 
			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getChangedFields">#</a>
		<code><a href="source-class-Aura.Marshal.Type.GenericType.html#883-925" title="Go to source code">getChangedFields</a>( <span>object <var>$entity</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			
<p>Returns the changed fields and their values for an entity.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$entity</var></dt>
					<dd><code>object</code><br>$entity The entity to find changes for.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>array</code><br>An array of key-value pairs where the key is the field name and the value is the
changed value.<br />
				</div>




		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-Aura.Marshal.Data.html#methods">Aura\Marshal\Data</a></caption>
	<tr>
		<td><code>
			<a href="class-Aura.Marshal.Data.html#_count">count()</a>, 
			<a href="class-Aura.Marshal.Data.html#_getIterator">getIterator()</a>, 
			<a href="class-Aura.Marshal.Data.html#_offsetExists">offsetExists()</a>, 
			<a href="class-Aura.Marshal.Data.html#_offsetGet">offsetGet()</a>, 
			<a href="class-Aura.Marshal.Data.html#_offsetSet">offsetSet()</a>, 
			<a href="class-Aura.Marshal.Data.html#_offsetUnset">offsetUnset()</a>
		</code></td>
	</tr>
	</table>











	<table class="summary" id="properties">
	<caption>Properties summary</caption>
	<tr data-order="collection_builder" id="$collection_builder">
		<td class="attributes"><code>
			protected  
			object
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#31-38" title="Go to source code"><var>$collection_builder</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$collection_builder" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>A builder to create collection objects for this type.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="entity_builder" id="$entity_builder">
		<td class="attributes"><code>
			protected  
			<code><a href="class-Aura.Marshal.Entity.BuilderInterface.html">Aura\Marshal\Entity\BuilderInterface</a></code>
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#40-47" title="Go to source code"><var>$entity_builder</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$entity_builder" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>A builder to create entity objects for this type.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="identity_field" id="$identity_field">
		<td class="attributes"><code>
			protected  
			string
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#49-57" title="Go to source code"><var>$identity_field</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$identity_field" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>The entity field representing its unique identifier value. The IdentityMap
will be keyed on these values.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="index_fields" id="$index_fields">
		<td class="attributes"><code>
			protected  
			array
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#59-72" title="Go to source code"><var>$index_fields</var></a>
		</td>
		<td class="value"><code>[]</code></td>
		<td class="description"><div>
			<a href="#$index_fields" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>An array of fields to index on for quicker lookups. The array format is:<br
/>
$index_fields[$field_name][$field_value] = (array) $offsets;</p>

<p>Note that we always have an array of offsets, and the keys are by the field
name and the values for that field.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="index_identity" id="$index_identity">
		<td class="attributes"><code>
			protected  
			array
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#74-85" title="Go to source code"><var>$index_identity</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$index_identity" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>An index of entities on the identity field. The format is:<br />
$index_identity[$identity_value] = $offset;</p>

<p>Note that we always have only one offset, keyed by identity value.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="index_new" id="$index_new">
		<td class="attributes"><code>
			protected  
			array
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#87-98" title="Go to source code"><var>$index_new</var></a>
		</td>
		<td class="value"><code>[]</code></td>
		<td class="description"><div>
			<a href="#$index_new" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>An index of all entities added via newEntity(). The format is:<br />
$index_new[] = $offset;</p>

<p>Note that we always have one offset, and the key is merely sequential.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="removed" id="$removed">
		<td class="attributes"><code>
			protected  
			array
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#100-107" title="Go to source code"><var>$removed</var></a>
		</td>
		<td class="value"><code>[]</code></td>
		<td class="description"><div>
			<a href="#$removed" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>An array of all entities removed via <code>removeEntity()</code>.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="initial_data" id="$initial_data">
		<td class="attributes"><code>
			protected  
			<code><a href="class-SplObjectStorage.html">SplObjectStorage</a></code>
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#109-116" title="Go to source code"><var>$initial_data</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$initial_data" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>An object store of the initial data for entities in the IdentityMap.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="lazy_builder" id="$lazy_builder">
		<td class="attributes"><code>
			protected  
			<code><a href="class-Aura.Marshal.Lazy.BuilderInterface.html">Aura\Marshal\Lazy\BuilderInterface</a></code>
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#118-125" title="Go to source code"><var>$lazy_builder</var></a>
		</td>
		<td class="value"><code></code></td>
		<td class="description"><div>
			<a href="#$lazy_builder" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>A builder to create Lazy objects.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="relations" id="$relations">
		<td class="attributes"><code>
			protected  
			array
		</code></td>

		<td class="name">
				<a href="source-class-Aura.Marshal.Type.GenericType.html#127-135" title="Go to source code"><var>$relations</var></a>
		</td>
		<td class="value"><code>[]</code></td>
		<td class="description"><div>
			<a href="#$relations" class="anchor">#</a>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				
<p>An array of relationship descriptions, where the key is a field name for the
entity and the value is a relation object.</p>


			</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Properties inherited from <a href="class-Aura.Marshal.Data.html#properties">Aura\Marshal\Data</a></caption>
	<tr>
		<td><code>
			<a href="class-Aura.Marshal.Data.html#$data"><var>$data</var></a>
		</code></td>
	</tr>
	</table>





</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
